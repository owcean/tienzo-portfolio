/* NOTE: Fonts & base tokens are loaded by src/assets/style.css
   Do NOT add @import for Google Fonts here. */

/* assets/project.css */

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* ══════════════════════════════════
   TOKENS
══════════════════════════════════ */
:root {
  --accent:         #c07060;
  --accent-soft:    #e8c4b8;
  --accent-deep:    #8a4a3a;
  --bg-light:       #faf7f4;
  --surface-light:  #f0e8e0;
  --text-dark:      #1a1210;
  --text-muted:     #5a3e38;
  --bg-card-far:    #c8bab4;
  --bg-card-near:   #a87c6e;
  --bg-card-active: #6e4c42;
  --radius-card:    22px;
  --font-display:   var(--font-display);
  --font-body: var(--font-sans);
}

/* ══════════════════════════════════
   SECTION SHELL
══════════════════════════════════ */
.projects-section {
  position: relative;
  background: var(--bg-light);
  min-height: 100vh;
  padding: 90px 0 80px;
  font-family: var(--font-sans);
  overflow: hidden;
}

/* ── Canvas particle layer ── */
#particle-canvas {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
}

/* ══════════════════════════════════
   HEADER
══════════════════════════════════ */
.projects-header {
  position: relative;
  z-index: 2;
  text-align: center;
  padding: 0 6vw;
  margin-bottom: 52px;
}

/* Stagger reveals */
.stag-1, .stag-2, .stag-3, .stag-4 {
  opacity: 0;
  transform: translateY(28px);
  transition: opacity .9s cubic-bezier(.16,1,.3,1),
              transform .9s cubic-bezier(.16,1,.3,1);
}
.loaded .stag-1 { opacity: 1; transform: none; transition-delay: .05s; }
.loaded .stag-2 { opacity: 1; transform: none; transition-delay: .20s; }
.loaded .stag-3 { opacity: 1; transform: none; transition-delay: .36s; }
.loaded .stag-4 { opacity: 1; transform: none; transition-delay: .52s; }

/* ── Animated gradient title ── */
.projects-title {
  font-family: var(--font-display);
  font-size: clamp(40px, 6.5vw, 76px);
  font-weight: 800;
  line-height: 1.0;
  letter-spacing: -3px;
  margin-bottom: 16px;

  /* animated gradient text */
  background: linear-gradient(
    120deg,
    var(--accent-deep)  0%,
    var(--accent)       28%,
    #d49070             52%,
    var(--accent-soft)  68%,
    var(--accent)       82%,
    var(--accent-deep)  100%
  );
  background-size: 250% auto;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: titleShimmer 5s linear infinite;
}

@keyframes titleShimmer {
  0%   { background-position: 0% center; }
  100% { background-position: 250% center; }
}

.projects-sub {
  font-size: clamp(13px, 1.35vw, 15.5px);
  font-weight: 400;
  color: var(--text-muted);
  max-width: 500px;
  margin: 0 auto;
  line-height: 1.7;
}

/* ══════════════════════════════════
   STACK STAGE
══════════════════════════════════ */
.stack-stage {
  position: relative;
  z-index: 2;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  padding: 16px 0 32px;
  overflow: visible;
}

.stack-rail {
  position: relative;
  height: 540px;
  flex-shrink: 0;
}

/* ══════════════════════════════════
   CARD BASE
══════════════════════════════════ */
.p-card {
  position: absolute;
  top: 50%;
  border-radius: var(--radius-card);
  overflow: hidden;
  cursor: pointer;
  background: var(--bg-card-far);
  will-change: left, width, transform, filter;

  transition:
    left      0.62s cubic-bezier(.16,1,.3,1),
    width     0.62s cubic-bezier(.16,1,.3,1),
    height    0.62s cubic-bezier(.16,1,.3,1),
    transform 0.62s cubic-bezier(.16,1,.3,1),
    filter    0.4s  ease,
    box-shadow 0.45s ease,
    background 0.45s ease;

  box-shadow:
    0 6px 20px rgba(138,74,58,0.10),
    0 2px 6px  rgba(138,74,58,0.06);
}

.p-card[data-dist="1"] { background: var(--bg-card-near); }
.p-card[data-dist="2"],
.p-card[data-dist="3"],
.p-card[data-dist="4"] { background: var(--bg-card-far); }

.p-card.active {
  background: var(--bg-card-active) !important;
  cursor: default;
  box-shadow:
    0 28px 72px rgba(110,76,66,0.32),
    0 6px 20px  rgba(110,76,66,0.18),
    0 0 0 1.5px rgba(192,112,96,0.3);
}

.p-card:not(.active):hover {
  filter: brightness(0.9) saturate(1.12) !important;
  box-shadow: 0 12px 36px rgba(138,74,58,0.2);
}

/* ── Collapsed label ── */
.card-collapsed-label {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 16px 8px;
  opacity: 1;
  transition: opacity 0.22s ease;
  pointer-events: none;
}
.p-card.active .card-collapsed-label { opacity: 0; }

.ccl-num {
  font-family: var(--font-display);
  font-size: 10px;
  font-weight: 800;
  color: rgba(250,247,244,0.42);
  letter-spacing: 2px;
}
.ccl-title {
  font-size: 9px;
  font-weight: 500;
  color: rgba(250,247,244,0.52);
  writing-mode: vertical-rl;
  transform: rotate(180deg);
  letter-spacing: 2px;
  text-transform: uppercase;
  max-height: 150px;
  overflow: hidden;
}

/* ══════════════════════════════════
   EXPANDED CARD  — landscape layout
   image left  |  text right
══════════════════════════════════ */
.card-expanded {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  opacity: 0;
  transition: opacity 0.32s ease 0.18s;
  pointer-events: none;
}
.p-card.active .card-expanded {
  opacity: 1;
  pointer-events: all;
}

/* ── Top title bar ── */
.card-header {
  padding: 18px 22px 14px;
  border-bottom: 1px solid rgba(232,196,184,0.12);
  flex-shrink: 0;
}

.card-header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.card-title-main {
  font-family: var(--font-display);
  font-size: 26px;
  font-weight: 800;
  color: #faf7f4;
  letter-spacing: -.5px;
  line-height: 1.0;
}

.card-cat-badge {
  font-size: 8.5px;
  font-weight: 700;
  letter-spacing: 2.5px;
  text-transform: uppercase;
  color: var(--accent-soft);
  padding: 5px 12px;
  border-radius: 999px;
  background: rgba(232,196,184,0.1);
  border: 1px solid rgba(232,196,184,0.22);
  white-space: nowrap;
  flex-shrink: 0;
}

/* ── Content row: image + info ── */
.card-content-row {
  display: flex;
  flex: 1;
  overflow: hidden;
}

/* Left: image */
.card-img-col {
  position: relative;
  width: 55%;
  flex-shrink: 0;
  overflow: hidden;
  background: var(--accent-deep);
}

.card-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: brightness(.82) saturate(.75);
  transition: transform 1s cubic-bezier(.16,1,.3,1), filter .5s ease;
}
.p-card.active:hover .card-img {
  transform: scale(1.06);
  filter: brightness(.9) saturate(.88);
}

.card-img-shine {
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg,
    rgba(250,247,244,0.06) 0%,
    transparent 60%);
  pointer-events: none;
}

/* Right: info */
.card-info-col {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 18px 20px 18px 18px;
  gap: 12px;
  overflow: hidden;
}

.card-desc {
  font-size: 13px;
  line-height: 1.78;
  color: rgba(232,196,184,0.66);
  font-weight: 300;
  flex-shrink: 0;
}

/* spacer so tags + actions stick to bottom */
.card-info-spacer { flex: 1; }

.card-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}
.ctag {
  font-size: 8px;
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  padding: 4px 9px;
  border-radius: 999px;
  border: 1px solid rgba(232,196,184,0.18);
  color: rgba(232,196,184,0.52);
  background: rgba(232,196,184,0.05);
  transition: background .2s, color .2s, border-color .2s;
}
.ctag:hover {
  background: rgba(232,196,184,0.12);
  color: rgba(232,196,184,0.85);
  border-color: rgba(232,196,184,0.35);
}

.card-actions {
  display: flex;
  align-items: center;
  gap: 9px;
  padding-top: 6px;
  border-top: 1px solid rgba(232,196,184,0.1);
}

.btn-ghost {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 8px 14px; border-radius: 999px;
  font-size: 10.5px; font-weight: 600; letter-spacing: .4px;
  text-decoration: none;
  color: rgba(232,196,184,0.6);
  border: 1px solid rgba(232,196,184,0.18);
  background: rgba(250,247,244,0.04);
  transition: color .2s, border-color .2s, background .2s;
}
.btn-ghost:hover {
  color: #faf7f4;
  border-color: rgba(232,196,184,0.42);
  background: rgba(250,247,244,0.09);
}

.btn-filled {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 8px 18px; border-radius: 999px;
  font-size: 10.5px; font-weight: 700; letter-spacing: .4px;
  text-decoration: none;
  color: #faf7f4;
  background: var(--accent);
  border: 1px solid var(--accent);
  margin-left: auto;
  transition: opacity .2s, transform .2s, box-shadow .2s;
}
.btn-filled:hover {
  opacity: .88;
  transform: translateY(-1.5px);
  box-shadow: 0 8px 22px rgba(192,112,96,0.44);
}

/* ══════════════════════════════════
   NAVIGATION
══════════════════════════════════ */
.stack-nav {
  position: relative;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 18px;
  margin-top: 24px;
}

.nav-arr {
  width: 36px; height: 36px; border-radius: 50%;
  border: 1.5px solid rgba(90,62,56,0.22);
  background: transparent;
  color: var(--text-muted);
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  transition: border-color .22s, color .22s, background .22s, transform .22s;
}
.nav-arr:hover:not(:disabled) {
  border-color: var(--accent);
  color: var(--accent);
  background: rgba(192,112,96,0.08);
  transform: scale(1.1);
}
.nav-arr:disabled { opacity: .24; cursor: not-allowed; }

.nav-dots { display: flex; gap: 8px; align-items: center; }
.ndot {
  width: 6px; height: 6px; border-radius: 50%;
  background: rgba(90,62,56,0.2);
  border: none; cursor: pointer; padding: 0;
  transition: background .25s, transform .25s;
}
.ndot.on { background: var(--accent); transform: scale(1.6); }
.ndot:hover:not(.on) { background: rgba(192,112,96,0.45); }

/* ══════════════════════════════════
   RESPONSIVE
══════════════════════════════════ */

/* ══════════════════════════════════════════════
   RESPONSIVE — project.css
   Breakpoints: 1024px · 768px · 480px
══════════════════════════════════════════════ */

/* ── Tablet landscape ── */
@media (max-width: 1024px) {
  .stack-rail     { height: 480px; }
  .card-title-main{ font-size: 22px; }
  .card-img-col   { width: 50%; }
  .card-desc      { font-size: 12.5px; }
  .projects-title { font-size: clamp(36px, 6vw, 60px); }
}

/* ── Tablet portrait ── */
@media (max-width: 768px) {
  .projects-section { padding: 80px 0 60px; }
  .projects-header  { padding: 0 5vw; margin-bottom: 36px; }
  .projects-title   { font-size: clamp(32px, 7vw, 52px); letter-spacing: -1.5px; }
  .projects-sub     { font-size: 13px; }

  .stack-stage {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    padding: 8px 5vw 20px;
    justify-content: flex-start;
  }
  .stack-stage::-webkit-scrollbar { display: none; }
  .stack-rail  { height: 460px; }

  .card-title-main { font-size: 18px; }
  .card-img-col    { width: 46%; }
  .card-info-col   { padding: 14px 16px 14px 14px; }
  .card-desc       { font-size: 12px; line-height: 1.65; }
  .card-header     { padding: 14px 16px 12px; }
}

/* ── Mobile ── */
@media (max-width: 480px) {
  .projects-section { padding: 72px 0 52px; }
  .projects-title   { font-size: clamp(26px, 8vw, 40px); letter-spacing: -1px; }

  /* Stack card content vertically on mobile */
  .card-content-row  { flex-direction: column; }
  .card-img-col      { width: 100%; height: 180px; flex-shrink: 0; }
  .card-info-col     { padding: 12px 14px; gap: 8px; }
  .stack-rail        { height: 500px; }

  .card-title-main   { font-size: 16px; }
  .card-cat-badge    { font-size: 8px; padding: 4px 9px; }
  .card-desc         { font-size: 11.5px; }
  .ctag              { font-size: 7.5px; padding: 3px 7px; }
  .btn-ghost         { font-size: 9.5px; padding: 6px 10px; }
  .btn-filled        { font-size: 9.5px; padding: 7px 14px; }

  .stack-nav { gap: 12px; margin-top: 16px; }
  .nav-arr   { width: 32px; height: 32px; }
  .ndot      { width: 5px; height: 5px; }
}